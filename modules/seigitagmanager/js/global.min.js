console.debug("Loaded STM global.js"),addEventListener("load",e=>{function t(){const e=new RegExp("category-([0-9]+)-([a-zA-Z0-9]+)").exec(document.body.className);return e?[e[1],e[2]]:["",""]}if(console.debug("Fired Onload STM global.js"),"object"==typeof ajaxCart){var a=ajaxCart.add;ajaxCart.add=function(e,r,c,o,n,i){a.apply(this,arguments),void 0===n&&(n=1);var d={id_product:e.toString(),id_combination:r.toString(),quantity:n,currency:stm_currency,event_id:stm_gid+"-"+e.toString(),event_name:"AddToCart"};try{if(c){var s=document.body.querySelector(".primary_block");d.price=seigitagmanager.parsePrice(s.querySelector("#our_price_display").innerText.match("[\\d\\'\\.\\,\\s]+")[0]),d.content_category="product",d.category=new RegExp("category-([a-zA-Z0-9]+)").exec(document.body.className)[1],[d.category_id,d.category]=t(),d.name=s.querySelector("h1").innerText}else{var g=o.closest(seigitagmanager_selector_container);d.name=g.querySelector(seigitagmanager_selector_name).innerText,d.price=seigitagmanager.parsePrice(g.querySelector(seigitagmanager_selector_price).innerText.match("[\\d\\'\\.\\,\\s]+")[0]),[d.category_id,d.category]=t(),d.category_id?d.content_category="category":(d.content_category="index",d.category="")}seigitagmanager.execute("add_to_cart",d)}catch(e){console.log(e)}}}else"object"==typeof prestashop&&prestashop.on("updateCart",function(e){var t=e.resp,a={};t.cart.products.forEach(e=>{e.id==t.id_product&&(a={id_product:t.id_product.toString(),id_combination:t.id_product_attribute.toString(),quantity:e.quantity,currency:stm_currency,event_id:stm_gid+"-"+t.id_product.toString(),event_name:"AddToCart",price:e.price_wt,content_category:prestashop.page.page_name,category:e.category,name:e.name})}),seigitagmanager.execute("add_to_cart",a)})}),document.addEventListener("click",function(e){let t=document.querySelector("#chex #basic .chex-button");t&&t.classList.add("stm-basic"),(t=document.querySelector("#chex #shipping .chex-button"))&&t.classList.add("stm-shipping"),(t=document.querySelector("#chex #confirmation .chex-button"))&&t.classList.add("stm-confirmation"),e.target.matches(".stm-basic")&&seigitagmanager.execute("add_shipping_info"),e.target.matches(".stm-shipping")&&seigitagmanager.execute("add_payment_info"),e.target.matches(".stm-confirmation")});